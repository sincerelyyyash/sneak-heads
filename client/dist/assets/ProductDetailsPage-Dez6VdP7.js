import{j as e,b as Q,r as o,u as R}from"./index-B2ePxcBR.js";import{B as f}from"./Button-CW0Ja27g.js";import{n as B,N as F,F as T,Q as U,B as p}from"./Nav-eljdfZ1F.js";import{g as q}from"./ProductsApi-1JmIV2D5.js";import{a as j}from"./CartsApi-ijbdI0Yh.js";const O=({imgURLs:r=[],selectedImage:l,setSelectedImage:c})=>e.jsx("div",{className:"flex justify-center items-center m-4 p-4",children:r&&r.map((a,n)=>e.jsx("div",{className:"m-2 flex justify-center items-center",children:e.jsx("img",{src:a,alt:`Option ${n}`,onClick:()=>c(a),onMouseOver:()=>c(a),className:`cursor-pointer ${l===a?"border-2 border-coral-red rounded-lg":""}`,style:{maxWidth:"100%",height:"auto"}})},n))});function $(){return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("img",{src:B,alt:""})})}const H=()=>{const{productId:r}=Q(),[l,c]=o.useState(1),[a,n]=o.useState(null),[b,i]=o.useState(!0),[d,N]=o.useState(null),[x,m]=o.useState(""),[y,v]=o.useState(6),w=R(),C=t=>{p.success(t)},u=t=>{p.error(t)};if(o.useEffect(()=>{(async()=>{try{const s=await q(r);n(s),m(s.imgURLs&&s.imgURLs.length>0?s.imgURLs[0]:""),i(!1)}catch(s){N(s.message),i(!1)}})()},[r]),!a)return e.jsx("div",{children:e.jsx($,{})});if(b)return e.jsx("div",{children:"Loading..."});if(d)return e.jsxs("div",{children:["Error: ",d]});const{name:g,description:S,price:k}=a,P=async(t,s)=>{try{await j(t,s),C("Product added to cart!")}catch{u("Could not add product to cart!")}},D=async(t,s)=>{try{await j(t,s),w("/checkout")}catch(h){console.log(h),u("Failed to shop now")}},L=()=>{l<10&&c(t=>t+1)},E=()=>{l>1&&c(t=>t-1)},I=t=>{v(t)};return e.jsxs("div",{children:[e.jsx("section",{className:"pb-12",children:e.jsx(F,{})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 padding flex flex-col lg:flex-row justify-center items-center lg:items-start lg:gap-x-12",children:[e.jsxs("div",{className:"w-full lg:w-[680px] mb-8 lg:mb-0",children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("img",{src:x,alt:g,className:"w-full lg:w-[540px] h-[480px]"})}),e.jsx("div",{className:"flex justify-start",children:e.jsx(O,{imgURLs:a.imgURLs,selectedImage:x,setSelectedImage:m})})]}),e.jsxs("div",{className:"w-full lg:w-full mx-auto lg:mx-0",children:[e.jsx("h1",{className:"mt-2 text-4xl leading-normal font-semibold font-palanquin text-black",children:g}),e.jsx("p",{className:"mt-4 font-montserrat text-gray-600 lg:max-w-lg",children:S}),e.jsxs("p",{className:"mt-2 font-semibold font-palanquin text-gray-700 text-3xl leading-normal",children:["â‚¹ ",k]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"font-montserrat text-gray-600",children:"Quantity: (Max- 10 per order)"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:E,className:"border border-gray-300 px-3 py-1",children:"-"}),e.jsx("span",{className:"text-2xl font-normal",children:l}),e.jsx("button",{onClick:L,className:"border border-gray-300 px-3 py-1",children:"+"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"font-montserrat text-gray-600",children:"Size:"}),e.jsx("div",{className:"flex gap-2 mt-2",children:[6,7,8,9,10].map(t=>e.jsx("button",{className:`px-4 py-2 rounded-full ${y===t?"bg-coral-red text-white":"bg-white text-coral-red"} border border-gray-300`,onClick:()=>I(t),children:t},t))})]}),e.jsxs("div",{className:"mt-11 flex flex-wrap gap-4",children:[e.jsx(f,{label:"Add to cart",backgroundColor:"bg-white",borderColor:"border-gray-500",textColor:"text-black",onClick:()=>{P(r,l)}}),e.jsx(f,{label:"Shop Now",backgroundColor:"bg-white",borderColor:"border-coral-red",textColor:"text-coral-red",onClick:()=>{D(r,l)}})]})]})]}),e.jsx("section",{className:"padding-x padding-t pt-8 pb-8 bg-black ",children:e.jsx(T,{})}),e.jsx(U,{})]})};export{H as default};
